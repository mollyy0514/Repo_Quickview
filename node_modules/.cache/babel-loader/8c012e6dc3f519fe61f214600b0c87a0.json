{"ast":null,"code":"import _asyncToGenerator from\"/Users/molly/Downloads/GitHub_Quickview-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/molly/Downloads/GitHub_Quickview-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/molly/Downloads/GitHub_Quickview-main/node_modules/@babel/runtime/regenerator/index.js\";import{useState,useEffect}from\"react\";// import { Octokit } from \"@octokit/core\";\nimport{request}from\"@octokit/request\";import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import{useNavigate,Link}from\"react-router-dom\";import Results from\"./Results\";import RepoPage from\"./RepoPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){// 為什麼要設 useState？因為這樣才能讓他在整個程式碼裡面都使用\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),repo=_useState4[0],setRepo=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),repoName=_useState8[0],setRepoName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),repoDescription=_useState10[0],setRepoDescription=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),httpFlag=_useState12[0],setHttpFlag=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),searchFlag=_useState14[0],setSearchFlag=_useState14[1];var navigate=useNavigate();var handleChange=function handleChange(e){setUsername(e.target.value);};var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request('GET /users/{username}/repos',{username:username});case 3:result=_context.sent;console.log(\"useruser: \",username);console.log(result);setRepo(result);setHttpFlag(true);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);if(_context.t0.name===\"HttpError\"){// let checkUser = [false];\nsetHttpFlag(false);}// console.log(err.name);\ncase 13:console.log(repo);setSearchFlag(true);navigate(\"/users/\".concat(username,\"/repos\"));case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleClick(){return _ref.apply(this,arguments);};}();console.log(httpFlag);console.log(\"continue\");return/*#__PURE__*/_jsxs(\"div\",{children:[searchFlag===false?/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"username\",type:\"text\",placeholder:\"Search\",value:username,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"searchBtn\",onClick:handleClick,children:\"Enter\"})]}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(Route,{path:\"/users/:username/repos\",element:httpFlag===true?/*#__PURE__*/ // <Results repo={ repo } header={ username }/>\n_jsx(Results,{repo:repo}):/*#__PURE__*/_jsxs(\"div\",{className:\"unvalidDiv\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"backToSearch\",onClick:function onClick(){window.location.href=\"/\";},children:\"Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"unvalid\",children:\"Unvalid User!\"})]})}),/*#__PURE__*/_jsx(Route,{path:\"/users/:username/repos/:repoName\",element:/*#__PURE__*/_jsx(RepoPage,{})})]})})]});};export default Search;","map":{"version":3,"sources":["/Users/molly/Downloads/GitHub_Quickview-main/src/Search.js"],"names":["useState","useEffect","request","BrowserRouter","Router","Route","Routes","useNavigate","Link","Results","RepoPage","Search","username","setUsername","repo","setRepo","loading","setLoading","repoName","setRepoName","repoDescription","setRepoDescription","httpFlag","setHttpFlag","searchFlag","setSearchFlag","navigate","handleChange","e","target","value","handleClick","result","console","log","name","window","location","href"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\n// import { Octokit } from \"@octokit/core\";\nimport { request } from \"@octokit/request\";\nimport {BrowserRouter as Router, Route, Routes} from 'react-router-dom';\nimport { useNavigate, Link } from \"react-router-dom\";\n\nimport Results from \"./Results\";\nimport RepoPage from \"./RepoPage\";\n\nconst Search = () => {\n\n    // 為什麼要設 useState？因為這樣才能讓他在整個程式碼裡面都使用\n    const [username, setUsername] = useState('');\n    const [repo, setRepo] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [repoName, setRepoName] = useState(\"\");\n    const [repoDescription, setRepoDescription] = useState(\"\");\n    const [httpFlag, setHttpFlag] = useState(true);\n    const [searchFlag, setSearchFlag] = useState(false);\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        setUsername(e.target.value);\n    }\n\n    const handleClick = async () => {\n        // console.log(username);\n        try {\n            // const result = await axios(listUrl);\n            const result =  await request('GET /users/{username}/repos', {\n                username: username\n            })\n            console.log(\"useruser: \", username);\n            console.log(result);\n            setRepo(result);\n            setHttpFlag(true);\n\n        } catch(err) {\n            if (err.name === \"HttpError\") {\n                // let checkUser = [false];\n                setHttpFlag(false);\n            }\n            \n            // console.log(err.name);\n        }\n        console.log(repo);\n        setSearchFlag(true);\n        navigate(`/users/${username}/repos`);\n    }\n\n    console.log(httpFlag);\n\n    console.log(\"continue\");\n    return ( \n        <div>\n            {(searchFlag === false) ? (\n            <div className=\"search\">\n                <input className=\"username\" type=\"text\" placeholder=\"Search\" value={username} onChange={handleChange}></input>\n                <button className=\"searchBtn\" onClick={handleClick}>Enter</button>\n\n            </div>\n            ) : (<div />\n                )}\n            <div>  \n                <Routes>\n                    <Route path=\"/\" element={<div />}></Route>\n                    <Route path=\"/users/:username/repos\" element={\n                            httpFlag === true ? (\n                                // <Results repo={ repo } header={ username }/>\n                                <Results repo={ repo } />\n                            ) : (\n                                <div className=\"unvalidDiv\">\n                                    <Link to=\"/\" className=\"backToSearch\" onClick={() => {window.location.href=\"/\"}}>Back</Link>\n                                    <p className=\"unvalid\">Unvalid User!</p>\n                                </div>\n                            )} \n                        />\n\n                    <Route path=\"/users/:username/repos/:repoName\" element={<RepoPage />}></Route>\n                </Routes>\n            </div>\n\n        </div>\n     );\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}